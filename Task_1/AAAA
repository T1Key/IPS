
	const double width = (right - left) / n;
	for (int step = 0; step < n; step++)
	{
		const double x1 = left + step * width;
		double f = 4 / ((1 + x1 * x1) * (1 + x1 * x1));
		const double x2 = left + (step + 1) * width;
		double g = 4 / ((1 + x2 * x2) * (1 + x2 * x2));
		double c = 4 / ((1 + 0.5 * (x1 + x2) * 0.5 * (x1 + x2)) * (1 + 0.5 * (x1 + x2) * 0.5 * (x1 + x2)));
		simpson_integral += (x2 - x1) / 6.0 * (f + g + 4 * c);
	}

}
